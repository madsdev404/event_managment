{% extends 'base.html' %} {% block content %}
<h1 class="text-2xl font-bold mb-4">Organizer Dashboard</h1>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8">
  <div class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h2 class="text-lg font-semibold">Total Participants</h2>
    <p class="text-3xl font-bold">{{ total_participants }}</p>
  </div>
  <div class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h2 class="text-lg font-semibold">Total Events</h2>
    <p class="text-3xl font-bold">{{ total_events }}</p>
  </div>
  <div class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h2 class="text-lg font-semibold">Upcoming Events</h2>
    <p class="text-3xl font-bold">{{ upcoming_events_count }}</p>
  </div>
  <div class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h2 class="text-lg font-semibold">Past Events</h2>
    <p class="text-3xl font-bold">{{ past_events_count }}</p>
  </div>
  <div class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h2 class="text-lg font-semibold">Today's Events</h2>
    <p class="text-3xl font-bold">{{ today_events_count }}</p>
  </div>
</div>

{% if today_events %}
<h2 class="text-xl font-bold mb-4">Today's Events</h2>
<ul class="mb-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {% for event in today_events %}
  <li class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">{{ event.name }}</h3>
    <p class="text-gray-400 dark:text-gray-400 text-sm">
      {{ event.time }} at {{ event.location }}
    </p>
  </li>
  {% endfor %}
</ul>
{% endif %}

<div class="flex flex-col md:flex-row mb-4 space-y-2 md:space-y-0 md:space-x-2">
  <a
    href="{% url 'dashboard' %}?event_type=total"
    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-center"
    >Total Events</a
  >
  <a
    href="{% url 'dashboard' %}?event_type=upcoming"
    class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-center"
    >Upcoming Events</a
  >
  <a
    href="{% url 'dashboard' %}?event_type=past"
    class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded text-center"
    >Past Events</a
  >
</div>

<ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {% for event in events_display %}
  <li class="bg-white dark:bg-surface-dark p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">{{ event.name }}</h3>
    <p class="text-gray-400 dark:text-gray-400 text-sm">
      {{ event.date }} at {{ event.location }}
    </p>
  </li>
  {% empty %}
  <li class="col-span-full text-gray-400 dark:text-gray-400">
    No events to display.
  </li>
  {% endfor %}
</ul>
{% endblock %}